# 仿真软件管理系统

## 概述

这是一个集成参数输入、图像识别和参数寻优的仿真管理平台，采用PyQt5构建前端界面，Python作为后端处理语言，MySQL作为数据库。

## 功能模块

### 1. 参数输入与仿真调用
- 传感器参数设置（类型、温度范围、FOV像素、噪声模糊等）
- 实体参数配置（主要实体、干扰实体、坐标设置）
- 环境参数设置（时间、日期、气溶胶模型、降雨率、能见度）
- 数据库连接配置
- 一键执行完整流程：生成配置文件 → 导入数据库 → 生成XML → 启动仿真

### 2. 图像识别（待实现）
- 图像处理和识别算法
- 识别指标计算和评估
- 结果可视化

### 3. 参数寻优（待实现）
- 参数优化算法
- 多目标优化
- 结果分析和推荐

## 安装说明

1. 确保Python 3.7+已安装
2. 安装依赖包：
   ```bash
   pip install -r requirements.txt
   ```
3. 配置MySQL数据库
4. 运行主程序：
   ```bash
   python main.py
   ```

## 目录结构

```
simulation_software/
├── main.py                 # 主程序入口
├── requirements.txt        # 依赖包列表
├── README.md              # 说明文档
├── ui/                    # 用户界面模块
│   ├── __init__.py
│   ├── main_window.py     # 主窗口
│   └── parameter_input_widget.py  # 参数输入界面
├── core/                  # 核心业务逻辑
│   ├── __init__.py
│   └── simulation_manager.py  # 仿真管理器
├── utils/                 # 工具模块
│   ├── __init__.py
│   └── database_manager.py   # 数据库管理
└── config/               # 配置模块
    ├── __init__.py
    └── settings.py       # 应用配置
```

## 数据流程

1. **参数输入** → 用户在界面输入仿真参数
2. **生成配置** → 基于参数生成CSV配置文件
3. **导入数据库** → 将CSV数据导入MySQL数据库
4. **生成XML** → 从数据库读取数据生成XML配置文件
5. **启动仿真** → 调用仿真软件执行仿真

## 使用方法

### 基本操作

1. **启动程序**：运行`main.py`
2. **数据库测试**：点击工具栏"数据库测试"按钮
3. **参数输入**：在参数输入界面设置各项参数
4. **参数预览**：点击"参数预览"查看当前设置
5. **执行仿真**：
   - 分步执行：依次点击"生成配置文件"、"导入数据库"、"生成XML文件"、"启动仿真"
   - 一键执行：点击"一键执行全流程"

### 参数说明

#### 传感器参数
- **传感器类型**：选择红外传感器类型
- **温度范围**：设置最低和最高工作温度
- **FOV像素**：设置水平和垂直视场像素数
- **噪声/模糊**：设置传感器仿真的噪声和模糊百分比
- **轨迹文件路径**：指定传感器轨迹文件位置

#### 实体参数
- **主要实体**：设置仿真中的主要目标实体
- **干扰实体数量**：设置干扰实体的数量
- **坐标设置**：配置实体在仿真环境中的位置

#### 环境参数
- **仿真时间/日期**：设置仿真的时间和日期
- **气溶胶模型**：选择大气气溶胶模型
- **降雨率**：设置降雨强度
- **能见度**：配置环境能见度

#### 数据库配置
- **连接信息**：设置MySQL数据库的连接参数
- **输出目录**：指定临时文件和结果的输出目录

## 技术特点

1. **模块化设计**：清晰的模块分离，便于维护和扩展
2. **异步处理**：使用QThread进行后台处理，避免界面卡死
3. **错误处理**：完善的异常处理和日志记录
4. **用户友好**：直观的界面设计和操作提示
5. **配置灵活**：支持参数预览和批量设置

## 注意事项

1. 确保MySQL数据库已正确安装和配置
2. 检查数据库表结构是否与代码匹配
3. 确保有足够的磁盘空间存储临时文件和结果
4. 仿真软件自动控制功能需要根据具体软件进行调整

## 开发计划

- [ ] 完善图像识别模块
- [ ] 实现参数寻优功能
- [ ] 添加结果可视化
- [ ] 优化用户界面
- [ ] 增加配置文件保存/加载功能
- [ ] 添加批量处理能力

## 联系方式

如有问题或建议，请联系开发团队。